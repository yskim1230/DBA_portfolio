# TSHERPA_INFO 인덱스 최적화를 통한 조회 성능 개선

## 1. 현황 및 문제점 (Diagnosis)

* **증상**: `TSherpaClass` 서비스 내 특정 사용자 키(`userKey`) 기반 조회 시 시스템 응답 지연 및 IO 부하 발생.
* **원인 분석**:
* 조회 조건인 `userKey` 컬럼에 인덱스가 존재하지 않아, 데이터를 찾기 위해 테이블 전체를 읽는 **Full Table Scan(테이블 스캔)** 방식 수행.
* **개선 전 IO**: 단일 사용자 조회 시 **9,784회**의 논리적 읽기 발생.
![0  TSherpaClass Tsherpa_info](https://github.com/user-attachments/assets/6f9e3f46-75eb-4436-b5e0-e6d540ea6fa8)
![2  TSherpaClass Tsherpa_info 인덱스 없는 실행계획](https://github.com/user-attachments/assets/b2d68a8b-c6de-4389-82a6-9b0b63f26226)



## 2. 개선 조치 (Optimization)

* **인덱스 튜닝**: 검색 필터인 `userKey` 컬럼을 선두로 하는 비클러스터형 인덱스를 신규 생성.
* **생성 내역**:
* **인덱스명**: `IDX_TSHERPA_INFO_USERKEY`
* **대상 컬럼**: `userKey`
![4  TSherpaClass Tsherpa_info 인덱스 생성 후 실행계획](https://github.com/user-attachments/assets/3b9721f8-bbab-42f2-a415-d37807f479c4)



## 3. 개선 결과 (Results)

| 항목 | 개선 전 (Before) | 개선 후 (After) | 개선 효과 |
| --- | --- | --- | --- |
| **실행 방식** | **Full Table Scan** | **Index Seek** | 최적 경로 탐색 |
| **논리적 읽기** | **9,784** | **7** | **약 99.9% 절감** |
| **연산자 비용** | 98% (테이블 스캔 부하) | 94% (탐색 효율화) | I/O 효율성 극대화 |

---

## 4. 상세 분석 및 기대 효과

* **I/O 병목 해소**: 기존에는 사용자 1명을 찾기 위해 약 1만 개의 페이지를 스캔했으나, 인덱스 적용 후 단 7개의 페이지 접근만으로 조회를 완료합니다.
* **시스템 리소스 보존**: MaxGauge 분석 결과와 같이 특정 조건 조회 시 발생하는 IO 피크를 원천 차단하여, 동시 접속자가 많은 시간대에도 안정적인 서비스 응답 속도를 유지할 수 있게 되었습니다.

---
